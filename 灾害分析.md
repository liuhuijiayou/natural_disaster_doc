<!-- TOC -->

- [系统应用角度](#系统应用角度)
- [系统分析角度](#系统分析角度)
- [项目架构](#项目架构)
    - [整体架构](#整体架构)
    - [代码逻辑架构](#代码逻辑架构)
        - [业务层(模型层)](#业务层模型层)
        - [交互层(Web后台)](#交互层web后台)
- [系统功能构思](#系统功能构思)
    - [信息抽取](#信息抽取)
    - [文本聚类](#文本聚类)
    - [灾害信息表](#灾害信息表)
    - [灾害宏观分析展示](#灾害宏观分析展示)
        - [统计分析](#统计分析)
    - [灾害微观分析](#灾害微观分析)
        - [基础信息](#基础信息)
        - [事件线新闻展示](#事件线新闻展示)
        - [情感走势展示](#情感走势展示)
        - [词云统计展示](#词云统计展示)
        - [热度走势展示](#热度走势展示)
        - [文本分类展示](#文本分类展示)
        - [灾害损失评估](#灾害损失评估)

<!-- /TOC -->
# 系统应用角度
防灾、备灾、响应和灾后重建
# 系统分析角度
社交媒体+时空+灾害
# 项目架构
## 整体架构
![](https://github.com/liuhuijiayou/natural_disaster_doc/raw/master/img/6.jpg)
- 数据源
- 爬虫
- DB
- 业务层(模型层)
    - 在DB中定时读取未处理数据
    - 调用算法模型处理数据并写入DB
    - 对于一些热度分析，词云分析等数据直接以json格式写入数据库
- 交互层(Web后台)
    - 接受前台request数据
    - 按照前台需求执行sql语句在DB中获取相应信息
    - 返回前台respone数据
- 前台
<font color=red>**以DB为核心串联所有模块**</font>
## 代码逻辑架构
### 业务层(模型层)
- natural_sdisasters // 主目录
    - earthquake // XX任务目录
        - analyse // 分析任务package，调用模型，分析数据写入数据表
        - resource // 资源包package，存放一些静态资源，如模型，数据等
### 交互层(Web后台)
- natural_sdisasters // 主目录
    - earthquake // XX任务目录
        - macroscopic // 宏观分析交互层
            - controller.py // 完成与前台的交互工作
        - microcosmic // 微观分析交互层
            - controller.py 

# 系统功能构思
## 信息抽取
## 文本聚类
## 灾害信息表
- 灾害发生地
    - 省（省应该一定会有）、市、县
- 发生时间
- 灾害情况
    - 地震等级
    - 震源深度
- 文本来源
    - 新浪微博xx条
    - 新浪新闻xx条
    - 等等
- 地震编号
- 其他信息

## 灾害宏观分析展示
### 统计分析
- 地震历史线分布
    - 按省份在地图上展示
    - 每个省份的灾害历史
    - 如果灾害讨论量超过某一阈值，则可以查看灾害微观分析情况
    - ![](https://github.com/liuhuijiayou/natural_disaster_doc/raw/master/img/1.jpg)

- 全国每年地震分布
    - 全国每年的地震分布情况：使用颜色区分等级
        - ![](https://github.com/liuhuijiayou/natural_disaster_doc/raw/master/img/2.jpg)
    - 按等级区间统计
    - 按讨论热度统计
    - 按年份月份统计
    - 按地点统计
    - 以上组合统计
- 地震的实时检测
    - 按时间排序地震情况
    - 最新的地震地图闪
    - 等等

## 灾害微观分析
### 基础信息
- 事件概述
    - 简介
    - 时间
    - 地点
    - 来源
    - 总热度
    - ![](https://github.com/liuhuijiayou/natural_disaster_doc/raw/master/img/3.png)
- 文章源头
    - 文章起始时间、结束时间、文章总数量
    - 社交媒体文章来源分布图，饼图
---
### 事件线新闻展示
- timeline.js
- ![](https://github.com/liuhuijiayou/natural_disaster_doc/raw/master/img/4.png)
- 最好标记每篇展示帖子的额外特征
    - 情感性（标记积极的新闻和消极的新闻）
    - 涉及人物、组织等
- <font color=red>多源信息融合展示</font>

---
### 情感走势展示
- 宏观情感走势
    - 所有帖子每天的情感分布（积极情感、消极情感、中性情感）
- 微观情感走势
    - 受灾省份每个地区的帖子的每日情感分布（积极情感和消极情感、中性情感）
### 词云统计展示
- 宏观词云展示
    - 总体关键词展示
        - ![](https://github.com/liuhuijiayou/natural_disaster_doc/raw/master/img/5.png)
    - 总体积极词和消极词的top-k展示
- 微观词云展示
    - 每天关键词展示
    - 每天积极词和消极词的top-k展示
    - 每个地区的关键词

---
### 热度走势展示
- 每天的热度曲线图
- 每个省份的讨论热度地图分布
</br></br>

*以上想法有一定的工作积累*

### 文本分类展示
- 分类情况
    - 消防救援类
    - 财产损失类
    - 人员伤亡类
    - 慰问祈祷类
- 每类文本统计展示
    - 每天的热门信息展示
    - 每天的热度走势展示
### 灾害损失评估
- 类别
    - 人员伤亡：在新闻类文本规则提取具体数字，**去重困难**
        - 遇难
        - 失踪
        - 受伤
    - 财产损失
        - 借助图片进行预估